# é¡¹ç›®äº¤æ¥æ–‡æ¡£ - å­¦æœ¯æ–‡çŒ®ç®¡ç†ç³»ç»Ÿ

## ğŸ“¦ å·²å®Œæˆçš„å·¥ä½œ

ä½ å¥½ï¼æ‰€æœ‰å¤´æ–‡ä»¶å’Œæ¡†æ¶ä»£ç å·²ç»ä¸ºä½ å‡†å¤‡å¥½äº†ã€‚è¿™ä»½æ–‡æ¡£å°†å¸®åŠ©ä½ å¿«é€Ÿç†è§£é¡¹ç›®ç»“æ„å’Œä¸‹ä¸€æ­¥å·¥ä½œã€‚

## âœ… å·²å®Œæˆå†…å®¹ï¼ˆåŒå­¦Açš„å·¥ä½œï¼‰

### 1. å®Œæ•´çš„é¡¹ç›®ç»“æ„
```
paper-system/
â”œâ”€â”€ include/          # 7ä¸ªå¤´æ–‡ä»¶ï¼Œå…¨éƒ¨å®Œæˆ âœ“
â”œâ”€â”€ src/              # 8ä¸ªcppæ–‡ä»¶ï¼ˆ5ä¸ªæ¡†æ¶ï¼Œä½ éœ€è¦å®ç°ï¼‰
â”œâ”€â”€ data/             # papers.txtæ•°æ®æ–‡ä»¶ âœ“
â”œâ”€â”€ Makefile          # ç¼–è¯‘é…ç½® âœ“
â””â”€â”€ README.md         # å®Œæ•´æ–‡æ¡£ âœ“
```

### 2. æ ¸å¿ƒæ•°æ®ç±»ï¼ˆä½ éœ€è¦å®ç°ï¼‰

#### Paper.h / Paper.cpp
- **çŠ¶æ€**: å¤´æ–‡ä»¶å®Œæˆï¼Œcppéœ€è¦å®ç°
- **èŒè´£**: è®ºæ–‡æ•°æ®ç»“æ„
- **é‡è¦æ–¹æ³•**:
  - æ„é€ å‡½æ•°
  - Getter/Setter
  - print() / printBrief()
  - countSharedKeywords()

#### FileManager.h / FileManager.cpp
- **çŠ¶æ€**: å¤´æ–‡ä»¶å®Œæˆï¼Œcppéœ€è¦å®ç°
- **èŒè´£**: æ–‡ä»¶è¯»å†™
- **é‡è¦æ–¹æ³•**:
  - loadPapers() - ä»æ–‡ä»¶åŠ è½½
  - savePapers() - ä¿å­˜åˆ°æ–‡ä»¶
  - parseLine() - è§£æä¸€è¡Œæ•°æ®

#### main.cpp
- **çŠ¶æ€**: å·²æä¾›åŸºç¡€æ¡†æ¶
- **ä½ éœ€è¦åš**: å®ç°åŠŸèƒ½1-5ï¼ˆåŠ è½½ã€æ˜¾ç¤ºã€æ·»åŠ ã€åˆ é™¤ã€ä¿å­˜ï¼‰

### 3. ç»™åŒå­¦Bå’ŒCçš„æ¥å£ï¼ˆæ¡†æ¶å·²å®Œæˆï¼‰

æ‰€æœ‰.hæ–‡ä»¶éƒ½å·²å®Œæˆï¼ŒåŒ…å«è¯¦ç»†çš„æ³¨é‡Šå’Œå®ç°å»ºè®®ã€‚
å¯¹åº”çš„.cppæ–‡ä»¶æä¾›äº†å‡½æ•°æ¡†æ¶ï¼ŒBå’ŒCåŒå­¦å¯ä»¥ç›´æ¥å¡«å……ã€‚

## ğŸ“‹ ä½ çš„å·¥ä½œæ¸…å•

### ç¬¬ä¸€æ­¥ï¼šå®ç°Paperç±» (2-3å°æ—¶)

```cpp
// src/Paper.cpp

// 1. å®ç°æ„é€ å‡½æ•°
Paper::Paper() {
    paperId = 0;
    year = 0;
    citations = 0;
}

Paper::Paper(int id, const string& title, ...) {
    // èµ‹å€¼æ‰€æœ‰æˆå‘˜å˜é‡
}

// 2. å®ç°Getteræ–¹æ³•ï¼ˆå¾ˆç®€å•ï¼‰
int Paper::getPaperId() const {
    return paperId;
}
// ... å…¶ä»–getter

// 3. å®ç°Setteræ–¹æ³•
void Paper::setPaperId(int id) {
    paperId = id;
}
// ... å…¶ä»–setter

// 4. å®ç°åŠŸèƒ½æ–¹æ³•
void Paper::print() const {
    cout << "ID: " << paperId << endl;
    cout << "Title: " << title << endl;
    // ... æ˜¾ç¤ºå…¶ä»–ä¿¡æ¯
}

void Paper::printBrief() const {
    cout << "[" << paperId << "] " << title 
         << " (" << year << ") - Citations: " << citations;
}

int Paper::countSharedKeywords(const Paper& other) const {
    int count = 0;
    for (const auto& kw1 : keywords) {
        for (const auto& kw2 : other.keywords) {
            if (kw1 == kw2 && !kw1.empty()) {
                count++;
                break;
            }
        }
    }
    return count;
}
```

### ç¬¬äºŒæ­¥ï¼šå®ç°FileManagerç±» (2-3å°æ—¶)

```cpp
// src/FileManager.cpp

vector<Paper> FileManager::loadPapers(const string& filename) {
    vector<Paper> papers;
    ifstream file(filename);
    
    if (!file.is_open()) {
        cerr << "é”™è¯¯ï¼šæ— æ³•æ‰“å¼€æ–‡ä»¶ " << filename << endl;
        return papers;
    }
    
    string line;
    getline(file, line);  // è·³è¿‡è¡¨å¤´
    
    while (getline(file, line)) {
        try {
            Paper paper = parseLine(line);
            papers.push_back(paper);
        } catch (exception& e) {
            cerr << "è§£æé”™è¯¯: " << e.what() << endl;
        }
    }
    
    file.close();
    return papers;
}

Paper FileManager::parseLine(const string& line) {
    // ä½¿ç”¨splitå‡½æ•°æŒ‰'|'åˆ†å‰²
    vector<string> fields = split(line, '|');
    
    // è§£æå„ä¸ªå­—æ®µ
    int id = stoi(fields[0]);
    string title = fields[1];
    
    // è§£æä½œè€…ï¼ˆç”¨;åˆ†å‰²ï¼‰
    vector<string> authors = split(fields[2], ';');
    
    // è§£æå…³é”®è¯ï¼ˆfields[3]åˆ°fields[8]ï¼‰
    vector<string> keywords;
    for (int i = 3; i <= 8; i++) {
        if (!fields[i].empty()) {
            keywords.push_back(fields[i]);
        }
    }
    
    int year = stoi(fields[9]);
    int citations = stoi(fields[10]);
    string abstract = fields[11];
    
    return Paper(id, title, authors, year, citations, keywords, abstract);
}

vector<string> FileManager::split(const string& str, char delimiter) {
    vector<string> tokens;
    string token;
    istringstream tokenStream(str);
    
    while (getline(tokenStream, token, delimiter)) {
        tokens.push_back(token);
    }
    
    return tokens;
}
```

### ç¬¬ä¸‰æ­¥ï¼šå®ç°main.cppçš„åŠŸèƒ½ (3-4å°æ—¶)

```cpp
// main.cppä¸­éœ€è¦å®ç°çš„åŠŸèƒ½

case 1: { // åŠ è½½æ•°æ®
    papers = FileManager::loadPapers("data/papers.txt");
    if (!papers.empty()) {
        dataLoaded = true;
        cout << "æˆåŠŸåŠ è½½ " << papers.size() << " ç¯‡è®ºæ–‡" << endl;
    }
    break;
}

case 2: { // æ˜¾ç¤ºæ‰€æœ‰è®ºæ–‡
    if (dataLoaded) {
        for (auto& paper : papers) {
            paper.printBrief();
            cout << endl;
        }
    }
    break;
}

case 3: { // æ·»åŠ æ–°è®ºæ–‡
    if (dataLoaded) {
        // è·å–ç”¨æˆ·è¾“å…¥
        int id, year, citations;
        string title, authorsStr, abstract;
        vector<string> authors, keywords;
        
        cout << "è¾“å…¥è®ºæ–‡ID: ";
        cin >> id;
        cin.ignore();
        
        cout << "è¾“å…¥æ ‡é¢˜: ";
        getline(cin, title);
        
        // ... è·å–å…¶ä»–ä¿¡æ¯
        
        Paper newPaper(id, title, authors, year, citations, keywords, abstract);
        papers.push_back(newPaper);
        cout << "è®ºæ–‡æ·»åŠ æˆåŠŸï¼" << endl;
    }
    break;
}

case 4: { // åˆ é™¤è®ºæ–‡
    if (dataLoaded) {
        int id;
        cout << "è¾“å…¥è¦åˆ é™¤çš„è®ºæ–‡ID: ";
        cin >> id;
        
        auto it = papers.begin();
        while (it != papers.end()) {
            if (it->getPaperId() == id) {
                papers.erase(it);
                cout << "è®ºæ–‡å·²åˆ é™¤" << endl;
                break;
            }
            ++it;
        }
    }
    break;
}

case 5: { // ä¿å­˜æ•°æ®
    if (dataLoaded) {
        if (FileManager::savePapers(papers, "data/papers.txt")) {
            cout << "æ•°æ®ä¿å­˜æˆåŠŸï¼" << endl;
        }
    }
    break;
}
```

## ğŸ”§ ç¼–è¯‘å’Œæµ‹è¯•

### ç¼–è¯‘æ­¥éª¤
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd paper-system

# ç¼–è¯‘ï¼ˆä¼šæç¤ºä¸€äº›æœªå®ç°çš„å‡½æ•°ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼‰
make

# å¦‚æœç¼–è¯‘å¤±è´¥ï¼Œé€ä¸ªç¼–è¯‘è°ƒè¯•
g++ -c -std=c++11 -I./include src/Paper.cpp -o obj/Paper.o
g++ -c -std=c++11 -I./include src/FileManager.cpp -o obj/FileManager.o
```

### æµ‹è¯•æ­¥éª¤
```bash
# è¿è¡Œç¨‹åº
./paper_system

# æµ‹è¯•åŠŸèƒ½1ï¼šåŠ è½½æ•°æ®
é€‰æ‹© 1 â†’ åº”è¯¥æ˜¾ç¤º"æˆåŠŸåŠ è½½50ç¯‡è®ºæ–‡"

# æµ‹è¯•åŠŸèƒ½2ï¼šæ˜¾ç¤ºè®ºæ–‡
é€‰æ‹© 2 â†’ åº”è¯¥æ˜¾ç¤ºæ‰€æœ‰è®ºæ–‡çš„ç®€è¦ä¿¡æ¯

# æµ‹è¯•åŠŸèƒ½3ï¼šæ·»åŠ è®ºæ–‡
é€‰æ‹© 3 â†’ è¾“å…¥æ–°è®ºæ–‡ä¿¡æ¯

# æµ‹è¯•åŠŸèƒ½4ï¼šåˆ é™¤è®ºæ–‡
é€‰æ‹© 4 â†’ è¾“å…¥è¦åˆ é™¤çš„ID

# æµ‹è¯•åŠŸèƒ½5ï¼šä¿å­˜æ•°æ®
é€‰æ‹© 5 â†’ æ•°æ®åº”è¯¥è¢«ä¿å­˜åˆ°æ–‡ä»¶
```

## ğŸ“ æ³¨æ„äº‹é¡¹

### 1. å­—ç¬¦ä¸²å¤„ç†
- ä½¿ç”¨ `getline(cin, str)` è¯»å–å¸¦ç©ºæ ¼çš„å­—ç¬¦ä¸²
- ä½¿ç”¨ `stoi()` å°†stringè½¬æ¢ä¸ºint
- æ³¨æ„å¤„ç†ç©ºå­—ç¬¦ä¸²

### 2. æ–‡ä»¶æ ¼å¼
```
ID|Title|Authors;Separated|Kw1|Kw2|Kw3|Kw4|Kw5|Kw6|Year|Citations|Abstract
```
- å­—æ®µç”¨ `|` åˆ†éš”
- ä½œè€…ç”¨ `;` åˆ†éš”
- å…³é”®è¯æœ€å¤š6ä¸ªï¼Œä¸è¶³ç•™ç©º

### 3. é”™è¯¯å¤„ç†
- æ–‡ä»¶æ‰“å¼€å¤±è´¥
- æ•°æ®è§£æé”™è¯¯
- è¾“å…¥æ ¼å¼é”™è¯¯

### 4. å†…å­˜ç®¡ç†
- Paperå¯¹è±¡åœ¨vectorä¸­ç®¡ç†ï¼Œè‡ªåŠ¨é‡Šæ”¾
- ä¸è¦æ‰‹åŠ¨delete Paperå¯¹è±¡

## ğŸ¯ ç»™åŒå­¦Bå’ŒCçš„è¯´æ˜

### åŒå­¦Béœ€è¦å®ç°ï¼ˆ10-15å°æ—¶ï¼‰:
1. `HashSearch.cpp` - å“ˆå¸Œè¡¨æŸ¥æ‰¾
2. `BSTSearch.cpp` - äºŒå‰æœç´¢æ ‘æŸ¥æ‰¾
3. `Sorter.cpp` - ä¸‰ç§æ’åºç®—æ³•

### åŒå­¦Céœ€è¦å®ç°ï¼ˆ10-15å°æ—¶ï¼‰:
1. `GraphAnalyzer.cpp` - å›¾æ„å»ºå’ŒBFS
2. `Recommender.cpp` - å…³é”®è¯ç»Ÿè®¡å’ŒTop-N

**é‡è¦**: ä½ éœ€è¦å…ˆå®ŒæˆPaperå’ŒFileManagerï¼Œä»–ä»¬æ‰èƒ½å¼€å§‹å·¥ä½œï¼

## ğŸ“š å‚è€ƒèµ„æ–™

### å¤´æ–‡ä»¶æ³¨é‡Š
æ¯ä¸ªå¤´æ–‡ä»¶éƒ½åŒ…å«ï¼š
- åŠŸèƒ½è¯´æ˜
- æ•°æ®ç»“æ„å»ºè®®
- ç®—æ³•æ­¥éª¤
- å®ç°æç¤º
- æ—¶é—´å¤æ‚åº¦

### README.md
åŒ…å«ï¼š
- å®Œæ•´çš„åŠŸèƒ½åˆ—è¡¨
- æ¥å£è¯´æ˜
- ç¼–è¯‘æ–¹æ³•
- æµ‹è¯•å»ºè®®

## â° æ—¶é—´ä¼°ç®—

| ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | ä¼˜å…ˆçº§ |
|------|---------|--------|
| Paperç±» | 2-3å°æ—¶ | ğŸ”´ æœ€é«˜ |
| FileManagerç±» | 2-3å°æ—¶ | ğŸ”´ æœ€é«˜ |
| main.cppåŠŸèƒ½1-5 | 3-4å°æ—¶ | ğŸ”´ æœ€é«˜ |
| æµ‹è¯•å’Œè°ƒè¯• | 2å°æ—¶ | ğŸŸ¡ ä¸­ |
| æ–‡æ¡£å®Œå–„ | 1å°æ—¶ | ğŸŸ¢ ä½ |
| **æ€»è®¡** | **10-13å°æ—¶** | |

## ğŸš€ å¼€å§‹å¼€å‘

### æ¨èå¼€å‘é¡ºåº:
1. âœ… é˜…è¯»æ‰€æœ‰å¤´æ–‡ä»¶æ³¨é‡Šï¼ˆ30åˆ†é’Ÿï¼‰
2. âœ… å®ç°Paperç±»ï¼ˆ2-3å°æ—¶ï¼‰
3. âœ… å®ç°FileManagerçš„loadPapersï¼ˆ2å°æ—¶ï¼‰
4. âœ… å®ç°main.cppåŠŸèƒ½1å’Œ2ï¼ˆæµ‹è¯•åŠ è½½å’Œæ˜¾ç¤ºï¼‰ï¼ˆ1å°æ—¶ï¼‰
5. âœ… å®ç°FileManagerçš„savePapersï¼ˆ1å°æ—¶ï¼‰
6. âœ… å®ç°main.cppåŠŸèƒ½3-5ï¼ˆ2å°æ—¶ï¼‰
7. âœ… å…¨é¢æµ‹è¯•ï¼ˆ2å°æ—¶ï¼‰
8. âœ… äº¤æ¥ç»™Bå’ŒCï¼ˆå‘Šè¯‰ä»–ä»¬æ¥å£å·²å‡†å¤‡å¥½ï¼‰

## ğŸ’¡ å®ç”¨æŠ€å·§

### è°ƒè¯•æŠ€å·§
```cpp
// 1. æ‰“å°è°ƒè¯•ä¿¡æ¯
cout << "[DEBUG] Loading papers..." << endl;

// 2. æ£€æŸ¥æ•°æ®
cout << "Parsed: ID=" << id << ", Title=" << title << endl;

// 3. æ•è·å¼‚å¸¸
try {
    // ä»£ç 
} catch (exception& e) {
    cerr << "Error: " << e.what() << endl;
}
```

### VS Codeé…ç½®
```json
// tasks.json
{
    "command": "make",
    "type": "shell"
}

// launch.json
{
    "program": "${workspaceFolder}/paper_system",
    "cwd": "${workspaceFolder}"
}
```

## ğŸ“ å¦‚æœé‡åˆ°é—®é¢˜

1. **ç¼–è¯‘é”™è¯¯**: 
   - æ£€æŸ¥includeè·¯å¾„
   - æ£€æŸ¥å‡½æ•°å£°æ˜å’Œå®šä¹‰æ˜¯å¦åŒ¹é…

2. **é“¾æ¥é”™è¯¯**:
   - æ£€æŸ¥æ˜¯å¦æ‰€æœ‰cppæ–‡ä»¶éƒ½è¢«ç¼–è¯‘
   - æ£€æŸ¥Makefileçš„SOURCESåˆ—è¡¨

3. **è¿è¡Œæ—¶é”™è¯¯**:
   - ä½¿ç”¨gdbè°ƒè¯•: `gdb ./paper_system`
   - æ·»åŠ coutè°ƒè¯•ä¿¡æ¯

4. **æ–‡ä»¶è¯»å–å¤±è´¥**:
   - æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
   - æ£€æŸ¥æ–‡ä»¶æƒé™

## âœ… éªŒæ”¶æ ‡å‡†

å®Œæˆååº”è¯¥èƒ½å¤Ÿï¼š
- âœ… æˆåŠŸç¼–è¯‘ï¼ˆæ— è­¦å‘Šï¼‰
- âœ… åŠ è½½papers.txtï¼ˆåŠŸèƒ½1ï¼‰
- âœ… æ˜¾ç¤ºæ‰€æœ‰è®ºæ–‡ï¼ˆåŠŸèƒ½2ï¼‰
- âœ… æ·»åŠ æ–°è®ºæ–‡ï¼ˆåŠŸèƒ½3ï¼‰
- âœ… åˆ é™¤è®ºæ–‡ï¼ˆåŠŸèƒ½4ï¼‰
- âœ… ä¿å­˜åˆ°æ–‡ä»¶ï¼ˆåŠŸèƒ½5ï¼‰
- âœ… æ•°æ®æ­£ç¡®æ€§ï¼ˆå†æ¬¡åŠ è½½èƒ½çœ‹åˆ°ä¿®æ”¹ï¼‰

## ğŸ‰ å®Œæˆå

æ­å–œï¼å½“ä½ å®Œæˆè¿™äº›å·¥ä½œåï¼š

1. é€šçŸ¥åŒå­¦Bå’ŒCå¯ä»¥å¼€å§‹äº†
2. ç»™ä»–ä»¬çœ‹README.mdå’Œå¤´æ–‡ä»¶æ³¨é‡Š
3. è§£é‡Šæ¥å£çš„ä½¿ç”¨æ–¹æ³•
4. å‡†å¤‡å¥½å›ç­”ä»–ä»¬çš„é—®é¢˜

---

**ç¥ä½ å¼€å‘é¡ºåˆ©ï¼å¦‚æœ‰é—®é¢˜éšæ—¶æŸ¥çœ‹å¤´æ–‡ä»¶ä¸­çš„è¯¦ç»†æ³¨é‡Šã€‚** ğŸš€

**è®°ä½**ï¼šä»£ç è´¨é‡æ¯”é€Ÿåº¦æ›´é‡è¦ï¼Œå†™æ¸…æ™°çš„ä»£ç ï¼Œæ·»åŠ å¿…è¦çš„æ³¨é‡Šï¼
